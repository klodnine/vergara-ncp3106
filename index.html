<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude - Premium Portfolio</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Floating Particles -->
    <div class="particles"></div>

    <!-- Ultra Premium Loading Screen -->
    <div class="page-loader">
        <div class="loader-content">
            <div class="loader-ring"></div>
            <div class="loader-text">CLAUDE</div>
            <div class="loader-subtitle">PORTFOLIO</div>
        </div>
    </div>

    <!-- Premium Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#home">Claude</a>
            
            <div class="d-flex align-items-center">
                <div class="social-icons d-none d-md-flex me-4">
                    <a href="https://www.facebook.com/share/199xTyvLxe/" class="social-icon" style="--i: 0">
                        <i class="bi bi-facebook"></i>
                    </a>
                    <a href="https://www.instagram.com/k1od_y?igsh=MXd0MWV0NmFoZnNjYQ==" class="social-icon" style="--i: 1">
                        <i class="bi bi-instagram"></i>
                    </a>
                    <a href="https://www.tiktok.com/@k1od_yy?_t=ZS-8ycLljLzj1O&_r=1" class="social-icon" style="--i: 2">
                        <i class="bi bi-tiktok"></i>
                    </a>
                </div>
                
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#heroCarousel" style="--i: 0">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about" style="--i: 1">About Me</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#projects" style="--i: 2">Projects</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact" style="--i: 3">Contact</a>
                    </li>
                </ul>
                <div class="social-icons d-md-none mt-3">
                    <a href="https://www.facebook.com/share/199xTyvLxe/" class="social-icon" style="--i: 0">
                        <i class="bi bi-facebook"></i>
                    </a>
                    <a href="https://www.instagram.com/k1od_y?igsh=MXd0MWV0NmFoZnNjYQ==" class="social-icon" style="--i: 1">
                        <i class="bi bi-instagram"></i>
                    </a>
                    <a href="https://www.tiktok.com/@k1od_yy?_t=ZS-8ycLljLzj1O&_r=1" class="social-icon" style="--i: 2">
                        <i class="bi bi-tiktok"></i>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Luxury Hero Carousel -->
    <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active" style="--i: 0"></button>
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1" style="--i: 1"></button>
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2" style="--i: 2"></button>
        </div>
        
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="assets/android.png" class="d-block w-100" alt="Android Studio Screenshot" style="object-fit: cover; height: 100%;">
            </div>
            <div class="carousel-item">
                <img src="assets/arduino.png" class="d-block w-100" alt="Arduino Screenshot" style="object-fit: cover; height: 100%;">
            </div>
            <div class="carousel-item">
                <img src="assets/vs code.png" class="d-block w-100" alt="VS Code Screenshot" style="object-fit: cover; height: 100%;">
            </div>
        </div>
        
        <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
    </div>

    <!-- Ultra Premium About Section -->
    <section id="about" class="about-section">
        <div class="container">
            <h2 class="section-title">About Me</h2>
            <div class="about-content">
                <p style="margin-bottom: 2rem;">
                    Welcome to my portfolio. I am <strong style="color: var(--accent-gold);">Claude Dave Vergara</strong>, a dedicated and passionate Computer Engineering student with a strong eagerness to delve into the world of web development. As a Scorpio, I bring determination, focus, and a desire for continuous learning to my academic and personal projects.
                </p>
                <p>
                    Currently pursuing my bachelor's degree, I aim to combine my engineering foundation with cutting-edge web technologies to create impactful and innovative digital solutions that push the boundaries of what's possible.
                </p>
            </div>
            
            <div class="skills-grid">
                <div class="skill-card">
                    <h3><i class="bi bi-code-slash me-2"></i>Technical Skills</h3>
                    <ul>
                        <li>Computer Engineering fundamentals</li>
                        <li>Web development technologies</li>
                        <li>Mobile application development</li>
                        <li>Database management systems</li>
                        <li>Arduino & hardware programming</li>
                    </ul>
                </div>
                
                <div class="skill-card">
                    <h3><i class="bi bi-lightbulb me-2"></i>Core Strengths</h3>
                    <ul>
                        <li>Problem-solving & analytical thinking</li>
                        <li>Creative solution development</li>
                        <li>Continuous learning mindset</li>
                        <li>Project management skills</li>
                        <li>Team collaboration</li>
                    </ul>
                </div>
                
                <div class="skill-card">
                    <h3><i class="bi bi-target me-2"></i>Future Goals</h3>
                    <ul>
                        <li>Master full-stack development</li>
                        <li>Build innovative tech solutions</li>
                        <li>Contribute to open-source projects</li>
                        <li>Lead development teams</li>
                        <li>Create impactful applications</li>
                    </ul>
                </div>
            </div>
            
            <!-- Educational Background -->
            <h2 class="section-title" style="margin-top: 6rem; margin-bottom: 3rem;">Educational Background</h2>
            <div class="row justify-content-center" style="margin-top: 2rem;">
                <!-- Secondary School -->
                <div class="col-md-5">
                    <div class="education-card" data-bs-toggle="modal" data-bs-target="#educationModal1">
                        <img src="assets/dm.png" alt="Secondary School" class="education-image">
                        <div class="education-info">
                            <h4 class="education-title">David M. Puzon Memorial National High School</h4>
                            <p class="education-subtitle">Graduated with Honors - 2023</p>
                        </div>
                    </div>
                </div>

                <!-- Tertiary School -->
                <div class="col-md-5">
                    <div class="education-card" data-bs-toggle="modal" data-bs-target="#educationModal2">
                        <img src="assets/ue.png" alt="Tertiary School" class="education-image">
                        <div class="education-info">
                            <h4 class="education-title">University of the East - Manila</h4>
                            <p class="education-subtitle">Currently Taking: BS Computer Engineering</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Ultra Premium Projects Section -->
    <section id="projects" class="projects-section">
        <div class="container">
            <h2 class="section-title">Featured Projects</h2>
            <div class="projects-grid">
                <div class="project-card" data-bs-toggle="modal" data-bs-target="#projectModal1">
                    <div class="project-image-container">
                        <img src="assets/bio.png" alt="Project 1" class="project-image">
                        <div class="project-overlay">
                            <i class="bi bi-eye project-overlay-icon"></i>
                        </div>
                    </div>
                    <div class="project-info">
                        <h4 class="project-title">VS Code - Bionote Website</h4>
                        <p class="project-description">A sophisticated personal biography website showcasing modern web development techniques with responsive design and elegant user interface elements.</p>
                    </div>
                </div>

                <div class="project-card" data-bs-toggle="modal" data-bs-target="#projectModal2">
                    <div class="project-image-container">
                        <img src="assets/hilo1.png" alt="Project 2" class="project-image">
                        <div class="project-overlay">
                            <i class="bi bi-eye project-overlay-icon"></i>
                        </div>
                    </div>
                    <div class="project-info">
                        <h4 class="project-title">Android Studio - High-Low Game</h4>
                        <p class="project-description">An engaging Android game application featuring intuitive gameplay mechanics, smooth animations, and interactive user experience design.</p>
                    </div>
                </div>

                <div class="project-card" data-bs-toggle="modal" data-bs-target="#projectModal3">
                    <div class="project-image-container">
                        <img src="assets/inb1.png" alt="Project 3" class="project-image">
                        <div class="project-overlay">
                            <i class="bi bi-eye project-overlay-icon"></i>
                        </div>
                    </div>
                    <div class="project-info">
                        <h4 class="project-title">Android Studio - In-Between Game</h4>
                        <p class="project-description">A strategic probability-based mobile game that challenges players' decision-making skills with polished UI and engaging gameplay mechanics.</p>
                    </div>
                </div>

                <div class="project-card" data-bs-toggle="modal" data-bs-target="#projectModal4">
                    <div class="project-image-container">
                        <img src="assets/tk.png" alt="Project 4" class="project-image">
                        <div class="project-overlay">
                            <i class="bi bi-eye project-overlay-icon"></i>
                        </div>
                    </div>
                    <div class="project-info">
                        <h4 class="project-title">Tkinter - Guessing Game</h4>
                        <p class="project-description">A desktop application built with Python Tkinter featuring dynamic prize generation, user-friendly interface, and engaging game mechanics.</p>
                    </div>
                </div>

                <div class="project-card" data-bs-toggle="modal" data-bs-target="#projectModal5">
                    <div class="project-image-container">
                        <img src="assets/snake2.png" alt="Project 5" class="project-image">
                        <div class="project-overlay">
                            <i class="bi bi-eye project-overlay-icon"></i>
                        </div>
                    </div>
                    <div class="project-info">
                        <h4 class="project-title">Android Studio - Snake Game</h4>
                        <p class="project-description">A classic arcade game reimagined for mobile devices with smooth controls, score tracking, and modern Android development practices.</p>
                    </div>
                </div>

                <div class="project-card" data-bs-toggle="modal" data-bs-target="#projectModal6">
                    <div class="project-image-container">
                        <img src="assets/sql.png" alt="Project 6" class="project-image">
                        <div class="project-overlay">
                            <i class="bi bi-eye project-overlay-icon"></i>
                        </div>
                    </div>
                    <div class="project-info">
                        <h4 class="project-title">MySQL - Employee Activity System</h4>
                        <p class="project-description">A comprehensive database solution for tracking employee activities with optimized queries, data integrity, and efficient table structures.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Luxury Contact Section -->
    <section id="contact" class="contact-section">
        <div class="container">
            <h2 class="section-title">Get In Touch</h2>
            <div class="contact-card">
                <p style="color: var(--text-gray); font-size: 1.1rem; margin-bottom: 2rem;">
                    Ready to collaborate on your next project? Let's create something extraordinary together.
                </p>
                <div class="contact-phone">+63 926-087-0841</div>
                <div class="social-icons justify-content-center">
                    <a href="mailto:claudevergara901@gmail.com" class="social-icon">
                        <i class="bi bi-envelope-fill"></i>
                    </a>
                    <a href="https://www.linkedin.com/in/claudevergagara901109" class="social-icon">
                        <i class="bi bi-linkedin"></i>
                    </a>
                    <a href="https://github.com/klodnine" class="social-icon">
                        <i class="bi bi-github"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Premium Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-name">Claude Dave Mallabo Vergara</div>
                <div style="margin: 1rem 0;">© 2025 All Rights Reserved</div>
                <div>Crafted with passion and precision. Thank you for visiting my portfolio.</div>
            </div>
        </div>
    </footer>

    <!-- Premium Project Modals -->
    <div class="modal fade" id="projectModal1" tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Bionote Website - VS Code Project</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <img src="assets/bio.png" alt="Project 1 Large" class="img-fluid rounded">
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="projectModal2" tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">High-Low Game - Android Studio</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <img src="assets/hilo1.png" alt="Project 2 Large" class="img-fluid rounded">
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="projectModal3" tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">In-Between Game - Android Studio</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <img src="assets/inb1.png" alt="Project 3 Large" class="img-fluid rounded">
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="projectModal4" tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Guessing Game - Python Tkinter</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <img src="assets/tk.png" alt="Project 4 Large" class="img-fluid rounded">
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="projectModal5" tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Snake Game - Android Studio</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <img src="assets/snake2.png" alt="Project 5 Large" class="img-fluid rounded">
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="projectModal6" tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Employee Activity Database - MySQL</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <img src="assets/sql.png" alt="Project 6 Large" class="img-fluid rounded">
                </div>
            </div>
        </div>
    </div>

    <!-- Education Modals -->
    <div class="modal fade" id="educationModal1" tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">David M. Puzon Memorial National High School</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <img src="assets/dm.png" alt="Secondary School Large" class="img-fluid rounded">
                    <div class="mt-3">
                        <p class="text-light">Graduated with Honors in 2023 from David M. Puzon Memorial National High School, demonstrating academic excellence and a strong foundation for higher education.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="educationModal2" tabindex="-1">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">University of the East - Manila</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <img src="assets/ue.png" alt="University Large" class="img-fluid rounded">
                    <div class="mt-3">
                        <p class="text-light">Currently pursuing Bachelor of Science in Computer Engineering at University of the East - Manila, focusing on cutting-edge technology and engineering principles.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Optimized Animation Controller
        class PortfolioAnimationController {
            constructor() {
                this.ticking = false;
                this.observer = null;
                this.particles = [];
                this.init();
            }

            init() {
                this.createFloatingParticles();
                this.setupIntersectionObserver();
                this.setupEventListeners();
                this.setupCarousel();
                this.setupModals();
                this.updateActiveSection();
            }

            createFloatingParticles() {
                const particlesContainer = document.querySelector('.particles');
                const fragment = document.createDocumentFragment();
                
                for (let i = 0; i < 50; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.left = `${Math.random() * 100}%`;
                    particle.style.animationDelay = `${Math.random() * 15}s`;
                    particle.style.animationDuration = `${Math.random() * 10 + 10}s`;
                    fragment.appendChild(particle);
                    this.particles.push(particle);
                }
                
                particlesContainer.appendChild(fragment);
            }

            setupIntersectionObserver() {
                const options = {
                    threshold: 0.15,
                    rootMargin: '0px 0px -100px 0px'
                };

                this.observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('animate');
                            this.handleSpecialSections(entry.target);
                        }
                    });
                }, options);

                const observableElements = document.querySelectorAll(
                    '.section-title, .about-content, .skill-card, .education-card, .contact-card, .footer-content, .projects-section, .about-section'
                );
                
                observableElements.forEach(el => this.observer.observe(el));
            }

            handleSpecialSections(target) {
                if (target.classList.contains('projects-section')) {
                    const cards = target.querySelectorAll('.project-card');
                    cards.forEach((card, index) => {
                        setTimeout(() => card.classList.add('animate'), index * 200);
                    });
                }
                
                if (target.classList.contains('about-section')) {
                    const skillCards = target.querySelectorAll('.skill-card');
                    const educationCards = target.querySelectorAll('.education-card');
                    
                    skillCards.forEach((card, index) => {
                        setTimeout(() => card.classList.add('animate'), (index + 1) * 300);
                    });
                    
                    educationCards.forEach((card, index) => {
                        setTimeout(() => card.classList.add('animate'), (skillCards.length + index + 1) * 300);
                    });
                }
            }

            setupEventListeners() {
                // Smooth scrolling for navigation links
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', (e) => {
                        e.preventDefault();
                        const targetId = anchor.getAttribute('href');
                        const target = document.querySelector(targetId);
                        
                        if (target) {
                            this.createLuxuryClickEffect(e);
                            const offsetTop = target.offsetTop - 90; // Account for fixed navbar
                            window.scrollTo({
                                top: offsetTop,
                                behavior: 'smooth'
                            });
                            this.updateActiveNavigation(targetId.substring(1));
                        }
                    });
                });

                // Optimized scroll handler
                window.addEventListener('scroll', () => {
                    if (!this.ticking) {
                        requestAnimationFrame(() => this.handleScroll());
                        this.ticking = true;
                    }
                });

                // Project card hover effects
                document.querySelectorAll('.project-card').forEach((card, index) => {
                    card.addEventListener('mouseenter', () => {
                        card.style.zIndex = '10';
                        this.createHoverParticles(card);
                    });
                    
                    card.addEventListener('mouseleave', () => {
                        card.style.zIndex = '1';
                    });
                });

                // Device motion optimization
                if (window.DeviceMotionEvent) {
                    window.addEventListener('devicemotion', (e) => {
                        const acceleration = e.accelerationIncludingGravity;
                        if (Math.abs(acceleration.x) > 5 || Math.abs(acceleration.y) > 5) {
                            document.body.classList.add('reduced-motion');
                        }
                    });
                }
            }

            handleScroll() {
                const scrolled = window.pageYOffset;
                
                // Optimized particle parallax
                this.particles.forEach((particle, index) => {
                    const speed = (index % 3 + 1) * 0.3;
                    particle.style.transform = `translateY(${scrolled * speed}px)`;
                });
                
                this.updateActiveSection();
                this.ticking = false;
            }

            setupCarousel() {
                const carousel = document.querySelector('#heroCarousel');
                if (!carousel) return;

                const bsCarousel = new bootstrap.Carousel(carousel, {
                    interval: 6000,
                    wrap: true,
                    touch: true
                });

                const handleSlide = (e) => {
                    const nextImg = e.relatedTarget?.querySelector('img');
                    if (nextImg) {
                        Object.assign(nextImg.style, {
                            transform: 'scale(1.1) rotate(1deg)',
                            filter: 'blur(3px) brightness(0.8)'
                        });
                    }
                };

                const handleSlid = (e) => {
                    const activeImg = e.target.querySelector('.carousel-item.active img');
                    if (activeImg) {
                        Object.assign(activeImg.style, {
                            transform: 'scale(1)',
                            filter: 'blur(0px) brightness(0.9)'
                        });
                    }
                };

                carousel.addEventListener('slide.bs.carousel', handleSlide);
                carousel.addEventListener('slid.bs.carousel', handleSlid);
            }

            setupModals() {
                // Store original overflow state
                const originalOverflow = document.body.style.overflow;
                
                document.querySelectorAll('.modal').forEach(modal => {
                    // When modal is about to show
                    modal.addEventListener('show.bs.modal', function() {
                        // Set overflow hidden to prevent scroll
                        document.body.style.overflow = 'hidden';
                        // Add Bootstrap's modal-open class for consistency
                        document.body.classList.add('modal-open');
                        this.querySelector('.modal-content').style.animation = 'modalLuxuryIn 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
                    });
                    
                    // When modal is completely hidden
                    modal.addEventListener('hidden.bs.modal', function() {
                        // Restore scroll
                        document.body.style.overflow = '';
                        document.body.classList.remove('modal-open');
                        // Force scroll restoration
                        document.documentElement.style.overflow = '';
                        document.body.style.paddingRight = '';
                    });
                    
                    // Backup event for when modal is hiding (in case hidden doesn't fire)
                    modal.addEventListener('hide.bs.modal', function() {
                        // Small delay to ensure modal is fully closed
                        setTimeout(() => {
                            document.body.style.overflow = '';
                            document.body.classList.remove('modal-open');
                            document.documentElement.style.overflow = '';
                            document.body.style.paddingRight = '';
                        }, 300);
                    });
                });

                // Additional safety measure - restore scroll on escape key
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        setTimeout(() => {
                            document.body.style.overflow = '';
                            document.body.classList.remove('modal-open');
                            document.documentElement.style.overflow = '';
                            document.body.style.paddingRight = '';
                        }, 100);
                    }
                });

                // Restore scroll when clicking outside modal
                document.addEventListener('click', (e) => {
                    if (e.target.classList.contains('modal')) {
                        setTimeout(() => {
                            document.body.style.overflow = '';
                            document.body.classList.remove('modal-open');
                            document.documentElement.style.overflow = '';
                            document.body.style.paddingRight = '';
                        }, 100);
                    }
                });
            }

            createLuxuryClickEffect(e) {
                const effect = document.createElement('div');
                Object.assign(effect.style, {
                    position: 'fixed',
                    top: `${e.clientY}px`,
                    left: `${e.clientX}px`,
                    width: '150px',
                    height: '150px',
                    background: 'radial-gradient(circle, rgba(212, 175, 55, 0.2), transparent 70%)',
                    borderRadius: '50%',
                    transform: 'translate(-50%, -50%) scale(0)',
                    animation: 'luxuryRipple 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards',
                    pointerEvents: 'none',
                    zIndex: '10000',
                    boxShadow: '0 0 50px var(--accent-gold)'
                });
                
                document.body.appendChild(effect);
                setTimeout(() => effect.remove(), 800);
            }

            createHoverParticles(element) {
                const rect = element.getBoundingClientRect();
                const fragment = document.createDocumentFragment();
                
                for (let i = 0; i < 5; i++) {
                    const particle = document.createElement('div');
                    Object.assign(particle.style, {
                        position: 'fixed',
                        top: `${rect.top + Math.random() * rect.height}px`,
                        left: `${rect.left + Math.random() * rect.width}px`,
                        width: '4px',
                        height: '4px',
                        background: 'var(--accent-gold)',
                        borderRadius: '50%',
                        pointerEvents: 'none',
                        zIndex: '1000',
                        animation: 'hoverParticle 1s ease-out forwards'
                    });
                    fragment.appendChild(particle);
                }
                
                document.body.appendChild(fragment);
                setTimeout(() => {
                    fragment.childNodes.forEach(node => node.remove());
                }, 1000);
            }

            updateActiveNavigation(activeSection) {
                document.querySelectorAll('.navbar-nav .nav-link').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').substring(1) === activeSection) {
                        link.classList.add('active');
                    }
                });
            }

            updateActiveSection() {
                const sections = document.querySelectorAll('section, #heroCarousel');
                let currentSection = '';

                sections.forEach(section => {
                    const rect = section.getBoundingClientRect();
                    if (rect.top <= 150 && rect.bottom >= 150) {
                        currentSection = section.id;
                    }
                });

                // Handle the case when at the top of the page
                if (window.scrollY < 100) {
                    currentSection = 'heroCarousel';
                }

                document.querySelectorAll('.navbar-nav .nav-link').forEach(link => {
                    link.classList.remove('active');
                    const href = link.getAttribute('href').substring(1);
                    if (href === currentSection) {
                        link.classList.add('active');
                    }
                });
            }
        }

        // Initialize when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            new PortfolioAnimationController();
        });

        // Optimized loader management
        window.addEventListener('load', () => {
            setTimeout(() => {
                const loader = document.querySelector('.page-loader');
                if (loader) {
                    Object.assign(loader.style, {
                        opacity: '0',
                        visibility: 'hidden'
                    });
                }
            }, 3000);
        });

        // Additional scroll restoration safety measures
        window.addEventListener('resize', () => {
            // Restore scroll if window is resized (common when mobile keyboards appear/disappear)
            if (!document.querySelector('.modal.show')) {
                document.body.style.overflow = '';
                document.body.classList.remove('modal-open');
                document.documentElement.style.overflow = '';
                document.body.style.paddingRight = '';
            }
        });

        // Listen for Bootstrap modal events globally
        document.addEventListener('DOMContentLoaded', function() {
            // Ensure scroll is restored when page loads
            document.body.style.overflow = '';
            document.body.classList.remove('modal-open');
            document.documentElement.style.overflow = '';
            document.body.style.paddingRight = '';
        });
    </script>
</body>
</html>